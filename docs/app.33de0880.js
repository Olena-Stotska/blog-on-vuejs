(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)r=o[d],a[r]&&m.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={1:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([24,0]),s()})({"0y33":function(t,e,s){},24:function(t,e,s){t.exports=s("Vtdi")},"3g9p":function(t,e,s){"use strict";var i=s("4F8f"),a=s.n(i);a.a},"47fV":function(t,e,s){},"4F8f":function(t,e,s){},"6+LL":function(t,e,s){"use strict";var i=s("NHyl"),a=s.n(i);a.a},"65Q5":function(t,e,s){t.exports=s.p+"img/brain.4ddfaee0.svg"},"6ZLY":function(t,e,s){"use strict";var i=s("gGfW"),a=s.n(i);a.a},"6aVY":function(t,e,s){},"6hfL":function(t,e,s){"use strict";var i=s("JfFT"),a=s.n(i);a.a},"77/2":function(t,e,s){},FisY:function(t,e,s){"use strict";var i=s("77/2"),a=s.n(i);a.a},G5Ck:function(t,e,s){"use strict";var i=s("armW"),a=s.n(i);a.a},Imig:function(t,e,s){"use strict";var i=s("xIZo"),a=s.n(i);a.a},JfFT:function(t,e,s){},LdMB:function(t,e,s){},NHyl:function(t,e,s){},P4tr:function(t,e,s){"use strict";var i=s("yH99"),a=s.n(i);a.a},QRLv:function(t,e,s){},QmHP:function(t,e,s){},"Rt/1":function(t,e,s){"use strict";var i=s("QRLv"),a=s.n(i);a.a},Txp5:function(t,e,s){"use strict";var i=s("nPfe"),a=s.n(i);a.a},UHm6:function(t,e,s){},Vtdi:function(t,e,s){"use strict";s.r(e);s("VRzm");var i=s("Kw5r"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoaded?i("div",{attrs:{id:"app"}},[i("div",{staticClass:"metabar"},[t._m(0),i("div",{staticClass:"brain-logo",attrs:{title:t.message}},[i("router-link",{attrs:{to:{name:"home"}}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:s("65Q5"),alt:"Logo"}}),i("h1",{staticClass:"name"},[t._v("Brainstorm")])])])],1),i("FormRegistration"),t.isLogged?i("UserProfile"):t._e()],1),i("router-view")],1):t._e()},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v("similar to "),s("a",{attrs:{href:"https://medium.com/"}},[t._v("Midium")])])}],r=(s("91GP"),s("yT7P")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isLogged?t._e():s("div",[s("div",{staticClass:"redistration"},[s("a",{staticClass:"sing-in",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isModalSingIn=!0}}},[t._v("Sing In")]),s("a",{staticClass:"get-started",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.isModalGetStarted=!0}}},[t._v("Get Started")])]),t.isModalSingIn?s("Modal",{on:{close:function(e){t.isModalSingIn=!1}}},[s("SingIn",{on:{login:function(e){t.isModalSingIn=!1}}})],1):t._e(),t.isModalGetStarted?s("Modal",{on:{close:function(e){t.isModalGetStarted=!1}}},[s("GetStarted",{on:{registered:function(e){t.isModalGetStarted=!1}}})],1):t._e()],1)},l=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.$emit("close")}}},[s("div",{staticClass:"modal-container"},[s("button",{staticClass:"btn-close",on:{click:function(e){t.$emit("close")}}}),s("div",{staticClass:"modal-body"},[t._t("default")],2)])])])])},u=[],d={name:"Modal"},m=d,p=(s("pN94"),s("KHd+")),f=Object(p["a"])(m,c,u,!1,null,"74634c5f",null),v=f.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:t.singIn}},[t._m(0),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(1),s("transition",{attrs:{name:"fadeRight"}},[t.isValidEmail?t._e():s("div",{staticClass:"validation"},[t._v("E-mail is required!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidEmail,expression:"isValidEmail"}],attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(2),s("transition",{attrs:{name:"fadeRight"}},[t.isValidPassword?t._e():s("div",{staticClass:"validation"},[t._v("Password is required!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidPassword,expression:"isValidPassword"}],attrs:{type:"password",minlength:"6",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("transition",{attrs:{name:"fadeUp"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"error-msg"},[t._v(t._s(t.errorMessage))])]),s("button",{staticClass:"btn-sent"},[t._v("Send")])],1)},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-form"},[s("h1",[t._v("Welcome back.")]),s("h2",[t._v("Sign in to access your personalized homepage, follow authors and topics you love,\n        and clap for stories that matter to you.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("E-mail:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("Password:")])}],_=s("L2JU"),C={name:"SingIn",data:function(){return{email:"",password:"",errorMessage:"",isValidEmail:!0,isValidPassword:!0}},methods:Object(r["a"])({},Object(_["b"])(["loginUser"]),{singIn:function(){var t=this;this.loginUser({email:this.email,password:this.password}).then(function(){t.email=t.password="",t.$emit("login")}).catch(function(e){return t.errorMessage=e.message})}})},b=C,w=(s("gfVg"),Object(p["a"])(b,h,g,!1,null,"551b8045",null)),y=w.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:t.formSubmited}},[t._m(0),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(1),s("transition",{attrs:{name:"fadeRight"}},[t.isValidName?t._e():s("div",{staticClass:"validation"},[t._v("Name is required!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidName,expression:"isValidName"}],attrs:{required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(2),s("transition",{attrs:{name:"fadeRight"}},[t.isValidPhone?t._e():s("div",{staticClass:"validation"},[t._v("Phone is required!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phone,expression:"phone",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidPhone,expression:"isValidPhone"}],attrs:{type:"number",required:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(3),s("transition",{attrs:{name:"fadeRight"}},[t.isValidEmail?t._e():s("div",{staticClass:"validation"},[t._v("E-mail is required!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidEmail,expression:"isValidEmail"}],attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(4),s("transition",{attrs:{name:"fadeRight"}},[t.isValidPassword?t._e():s("div",{staticClass:"validation"},[t._v("Min 6 charts")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidPassword,expression:"isValidPassword"}],attrs:{type:"password",minlength:"6",required:""},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value.trim())},t.validatePasswordEquality],blur:function(e){t.$forceUpdate()}}})]),s("label",{staticClass:"form-group"},[s("div",{staticClass:"title-input"},[t._m(5),s("transition",{attrs:{name:"fadeRight"}},[t.isValidPasswordConf?t._e():s("div",{staticClass:"validation"},[t._v("Not corect!")])])],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.passwordConf,expression:"passwordConf",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidPasswordConf,expression:"isValidPasswordConf"}],attrs:{type:"password"},domProps:{value:t.passwordConf},on:{input:[function(e){e.target.composing||(t.passwordConf=e.target.value.trim())},t.validatePasswordEquality],blur:function(e){t.$forceUpdate()}}})]),s("transition",{attrs:{name:"fadeUp"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"error-msg"},[t._v(t._s(t.errorMessage))])]),s("button",{staticClass:"btn-sent"},[t._v("Send")])],1)},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-form"},[s("h1",[t._v("Join Blog.")]),s("h2",[t._v("Create an account to personalize your homepage, follow your favorite\n        authors and publications, applaud stories you love, and more.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("Full Name:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("Phone:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("E-mail:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("Password:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"star-required"},[t._v("*")]),t._v("Password confirmation:")])}],U=(s("f3/d"),{name:"GetStarted",data:function(){return{name:"",phone:"",email:"",password:"",passwordConf:"",errorMessage:"",isValidName:!0,isValidEmail:!0,isValidPhone:!0,isValidPassword:!0,isValidPasswordConf:!0}},methods:Object(r["a"])({},Object(_["b"])(["addUser","loginUser"]),{validatePasswordEquality:function(){this.isValidPasswordConf=this.password===this.passwordConf},formSubmited:function(){var t=this;this.addUser({name:this.name,phone:this.phone,email:this.email,password:this.password}).then(function(){return t.loginUser({email:t.email,password:t.password})}).then(function(){t.name=t.phone=t.email=t.password=t.passwordConf="",t.$emit("registered")}).catch(function(e){return t.errorMessage=e.message})}})}),O=U,j=(s("dDHs"),Object(p["a"])(O,P,E,!1,null,"5d6209f2",null)),x=j.exports,I={name:"FormRegistration",components:{Modal:v,SingIn:y,GetStarted:x},data:function(){return{isModalSingIn:!1,isModalGetStarted:!1}},computed:Object(r["a"])({},Object(_["d"])(["isLogged"]))},k=I,$=(s("6ZLY"),Object(p["a"])(k,o,l,!1,null,"1e62ec64",null)),N=$.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:function(e){t.menuVisible=!t.menuVisible}}},[s("UserInitials",{attrs:{userId:t.currentUser.id}}),s("Menu",{attrs:{open:t.menuVisible}})],1)},V=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.isOpen?s("div",{staticClass:"popover"},[s("ul",{staticClass:"menu"},[s("li",[s("router-link",{attrs:{to:{name:"newPost"}}},[t._v("New Story")])],1),s("li",{staticClass:"line"},[s("router-link",{attrs:{to:{name:"posts"}}},[t._v("Your Stories")])],1),s("li",[s("router-link",{attrs:{to:{name:"settings"}}},[t._v("Settings")])],1),s("li",[s("a",{attrs:{href:"#"},on:{click:t.signOut}},[t._v("Sign Out")])])])]):t._e()])},M=[],D={name:"Menu",props:["open"],data:function(){return{isOpen:!1}},watch:{open:{immediate:!0,handler:function(t){this.isOpen=t}}},methods:Object(r["a"])({},Object(_["b"])(["logout"]),{signOut:function(){var t=this;this.logout().then(function(){return t.$router.push({name:"home"})})},close:function(){this.isOpen=!1}}),mounted:function(){document.addEventListener("click",this.close)},destroyed:function(){document.removeEventListener("click",this.close)}},q=D,T=(s("qE/g"),Object(p["a"])(q,L,M,!1,null,"136cd82e",null)),B=T.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-logo"},[t._v(t._s(t.initials))])},R=[],F=(s("KKXr"),{name:"UserInitials",props:["userId"],computed:Object(r["a"])({},Object(_["c"])(["findUserById"]),{initials:function(){var t=this.findUserById(this.userId).name.split(" ");return t.map(function(t){return t.charAt(0)}).join("")}})}),Y=F,G=(s("G5Ck"),Object(p["a"])(Y,A,R,!1,null,"55f22b9e",null)),H=G.exports,J={name:"UserProfile",components:{Menu:B,UserInitials:H},data:function(){return{menuVisible:!1}},computed:Object(r["a"])({},Object(_["c"])(["currentUser"]))},K=J,z=(s("Txp5"),Object(p["a"])(K,S,V,!1,null,"11184c16",null)),W=z.exports,Z={name:"App",data:function(){return{message:"To Home",isLoaded:!1}},components:{UserProfile:W,FormRegistration:N},computed:Object(r["a"])({},Object(_["d"])(["isLogged"])),methods:{fetchState:function(){var t=this;return fetch("state.json").then(function(t){return t.json()}).then(function(e){t.$store.replaceState(Object.assign(t.$store.state,e))})}},created:function(){var t=this;this.$store.state.posts.length?this.isLoaded=!0:this.fetchState().then(function(){return t.isLoaded=!0})}},Q=Z,X=(s("6+LL"),s("Z/zX"),Object(p["a"])(Q,a,n,!1,null,"e9f12fa2",null)),tt=X.exports;s("INYr"),s("Z2Ku"),s("L9s1"),s("dRSK");function et(t){return function(e){Object.assign(e.state,localStorage.state?JSON.parse(localStorage.state):null),e.subscribe(function(e,s){localStorage.state=JSON.stringify(st(s,t))})}}function st(t,e){return e.reduce(function(e,s){return e[s]=t[s],e},{})}i["a"].use(_["a"]);var it=0,at=function(){return Date.now()+it++};function nt(t,e){return e?t.filter(function(t){return t.userId===e}):[]}var rt=new _["a"].Store({state:{posts:[],users:[],currentUser:"",isLogged:!1},plugins:[et(["posts","users","isLogged","currentUser"])],getters:{currentUser:function(t,e){return t.currentUser?e.findUser(t.currentUser):{}},findUser:function(t){return function(e){return t.users.find(function(t){return t.email===e})}},findUserById:function(t){return function(e){return t.users.find(function(t){return t.id===e})}},drafts:function(t){return t.posts.filter(function(t){return t.draft})},posts:function(t){return t.posts.filter(function(t){return!t.draft})},draftsByUserId:function(t,e){return nt(e.drafts,e.currentUser.id)},postsByUserId:function(t,e){return nt(e.posts,e.currentUser.id)},getPostById:function(t){return function(e){return t.posts.find(function(t){return t.id===e})}},getSimilarPosts:function(t){return function(e,s){return t.posts.filter(function(t){return t.tags.some(function(t){return e.includes(t)})&&t.id!==s})}}},mutations:{addUser:function(t,e){e.id=at(),t.users.push(e)},loginUser:function(t,e){var s=e.email,i=e.password;t.isLogged=t.users.some(function(t){return t.email===s&&t.password===i}),t.currentUser=s},logout:function(t){t.isLogged=!1,t.currentUser=""},createPost:function(t,e){e.id=at(),t.posts.push(e)},deletePost:function(t,e){var s=e.id,i=t.posts.findIndex(function(t){return t.id===s});t.posts.splice(i,1)},addNewComment:function(t,e){var s=e.comment,a=e.post;a.comments||i["a"].set(a,"comments",[]),a.comments.unshift({text:s.text,userId:s.userId,date:(new Date).toLocaleString("en-uk",{month:"long",day:"numeric"})})},updateEmail:function(t,e){var s=e.email,i=e.user;t.currentUser=s,i.email=s}},actions:{addUser:function(t,e){var s=t.commit,i=t.getters;if(i.findUser(e.email))return Promise.reject(new Error("Oops! User with such email already exists"));s("addUser",e)},loginUser:function(t,e){var s=t.commit,i=t.state;return s("loginUser",e),i.isLogged?Promise.resolve():Promise.reject(new Error("Oops! These credentials are not valid."))},logout:function(t){var e=t.commit;e("logout")},createPost:function(t,e){var s=t.commit,i=t.getters;s("createPost",Object(r["a"])({userId:i.currentUser.id,userName:i.currentUser.name,comments:[]},e))},deletePost:function(t,e){var s=t.commit;s("deletePost",e)},addNewComment:function(t,e){var s=t.commit;s("addNewComment",e)},updateEmail:function(t,e){var s=t.commit,i=t.getters;s("updateEmail",{email:e,user:i.currentUser})}}}),ot=s("jE9Z"),lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isArticle?s("Article"):[s("nav",{staticClass:"nav-bar"},[s("div",{staticClass:"tags controls"},[s("ul",{staticClass:"breadcrumbs"},[s("router-link",{staticClass:"filter",attrs:{tag:"li",to:{name:"home"}}},[t._v("Home")]),s("router-link",{staticClass:"filter",attrs:{tag:"li",to:{name:"home",params:{id:"tech"}}}},[t._v("Tech")]),s("router-link",{staticClass:"filter",attrs:{tag:"li",to:{name:"home",params:{id:"politics"}}}},[t._v("Politics")]),s("router-link",{staticClass:"filter",attrs:{tag:"li",to:{name:"home",params:{id:"culture"}}}},[t._v("Culture")])],1)])]),s("main",[s("transition-group",{staticClass:"grid",attrs:{name:"filter",tag:"div"}},t._l(t.filteredPosts,function(e){return s("div",{key:e.id,staticClass:"container-post"},[s("router-link",{staticClass:"col",attrs:{to:{name:"home",params:{id:e.id}},tag:"div"}},[e.image?s("div",{staticClass:"img-block"},[s("img",{attrs:{src:e.image,alt:"Image Post"}})]):t._e(),s("h2",[t._v(t._s(e.title))]),s("p",[t._v(t._s(e.description))]),s("div",{staticClass:"details"},[s("div",{staticClass:"author"},[t._v(t._s(e.userName))]),s("div",{staticClass:"date"},[t._v(t._s(e.date))])])])],1)}))],1)]],2)},ct=[],ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-post"},[s("h1",{staticClass:"title"},[t._v(t._s(t.post.title))]),s("p",{staticClass:"description"},[t._v(t._s(t.post.description))]),s("img",{attrs:{src:t.post.image,alt:"Post Image"}}),s("p",{staticClass:"content",domProps:{innerHTML:t._s(t.post.content)}}),s("div",{staticClass:"tags"},t._l(t.post.tags,function(e){return s("div",{key:e,staticClass:"tag"},[t._v("\n        "+t._s(e)+"\n      ")])}))]),s("Applause",{attrs:{post:t.post}}),s("footer",{staticClass:"footer"},[s("SimilarArticles",{attrs:{post:t.post}}),s("Comments",{attrs:{post:t.post}})],1)],1)},dt=[],mt=(s("xfY5"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"post-action"},[s("div",{staticClass:"clap-post"},[s("button",{staticClass:"clap",attrs:{type:"click"},on:{click:t.counterClap}},[s("svg",{class:{checked:t.isCounter},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"-549 338 100.1 125"}},[s("path",{attrs:{d:"M-471.2 366.8c1.2 1.1 1.9 2.6 2.3 4.1.4-.3.8-.5 1.2-.7\n                  1-1.9.7-4.3-1-5.9-2-1.9-5.2-1.9-7.2.1l-.2.2c1.8.1 3.6.9 4.9\n                  2.2zm-28.8 14c.4.9.7 1.9.8 3.1l16.5-16.9c.6-.6 1.4-1.1 2.1-1.5\n                  1-1.9.7-4.4-.9-6-2-1.9-5.2-1.9-7.2.1l-15.5 15.9c2.3 2.2 3.1 3 4.2\n                  5.3zm-38.9 39.7c-.1-8.9 3.2-17.2 9.4-23.6l18.6-19c.7-2\n                  .5-4.1-.1-5.3-.8-1.8-1.3-2.3-3.6-4.5l-20.9 21.4c-10.6\n                  10.8-11.2 27.6-2.3 39.3-.6-2.6-1-5.4-1.1-8.3z"}}),s("path",{attrs:{d:"M-527.2 399.1l20.9-21.4c2.2 2.2 2.7 2.6 3.5 4.5.8 1.8 1\n                  5.4-1.6 8l-11.8 12.2c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7\n                  0l34-35c1.9-2 5.2-2.1 7.2-.1 2 1.9 2 5.2.1 7.2l-24.7\n                  25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7 0l28.5-29.3c2-2\n                  5.2-2 7.1-.1 2 1.9 2 5.1.1 7.1l-28.5 29.3c-.5.5-.4 1.2 0\n                  1.7.5.5 1.2.4 1.7 0l24.7-25.3c1.9-2 5.1-2.1 7.1-.1 2 1.9\n                  2 5.2.1 7.2l-24.7 25.3c-.5.5-.4 1.2 0 1.7.5.5 1.2.5 1.7\n                  0l14.6-15c2-2 5.2-2 7.2-.1 2 2 2.1 5.2.1 7.2l-27.6 28.4c-11.6\n                  11.9-30.6 12.2-42.5.6-12-11.7-12.2-30.8-.6-42.7m18.1-48.4l-.7\n                  4.9-2.2-4.4m7.6.9l-3.7 3.4 1.2-4.8m5.5 4.7l-4.8 1.6 3.1-3.9"}})])]),s("transition",{attrs:{name:"clap"}},[t.isCounter?s("span",{staticClass:"counter"},[t._v("+"+t._s(t.counter))]):t._e()]),s("span",{staticClass:"counter-like"},[t._v(t._s(t.totalClap))])],1),s("div",{staticClass:"comment-to-post"},[s("i",{staticClass:"icon-comment"}),s("span",{staticClass:"counter-comment"},[t._v(t._s(t.countComments))])])])])}),pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"post-scale"},[s("div",[t._v("Like what you read? Give Lachlan Miller a round of applause.")]),s("p",[t._v("From a quick cheer to a standing ovation, clap to show how much you enjoyed this story.")])])}],ft={name:"Applause",props:["post"],data:function(){return{counter:0,isCounter:!1,randomClap:Math.round(1e3*Math.random())}},computed:{totalClap:function(){return this.counter+this.randomClap},countComments:function(){if(this.post.comments)return this.post.comments.length}},methods:{counterClap:function(){if(this.$store.state.isLogged)return this.isCounter=!0,this.hideCounter(),this.counter<50?this.counter++:null},hideCounter:function(){var t=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){t.isCounter=!1},500)}}},vt=ft,ht=(s("P4tr"),Object(p["a"])(vt,mt,pt,!1,null,"7098bae2",null)),gt=ht.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-comments"},[s("h3",[t._v("Responses")]),this.$store.state.isLogged?t._e():s("div",{staticClass:"comments-block"},[s("FormRegistration")],1),this.$store.state.isLogged?s("div",{staticClass:"comments-block"},[s("UserInitials",{attrs:{userId:t.currentUser.id}}),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.newComment,expression:"newComment",modifiers:{trim:!0}}],staticClass:"input-comment",attrs:{placeholder:"Add comment to this  story..."},domProps:{value:t.newComment},on:{keyup:function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter"))&&e.ctrlKey?t.addComment(e):null},input:function(e){e.target.composing||(t.newComment=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})],1):t._e(),t._l(t.post.comments,function(e,i){return s("div",{key:i,staticClass:"output-comments"},[s("div",{staticClass:"user-details"},[s("UserInitials",{attrs:{userId:e.userId}}),s("div",{staticClass:"details"},[s("p",[t._v(t._s(t.findUserById(e.userId).name))]),s("p",[t._v(t._s(e.date))])])],1),s("div",{staticClass:"text"},[t._v(t._s(e.text))])])})],2)},Ct=[],bt={name:"Comments",components:{UserInitials:H,FormRegistration:N},props:["post"],data:function(){return{newComment:""}},computed:Object(r["a"])({},Object(_["c"])(["currentUser","findUserById"])),methods:Object(r["a"])({},Object(_["b"])(["addNewComment"]),{addComment:function(){0!==this.newComment.length&&(this.addNewComment({post:this.post,comment:{text:this.newComment,userId:this.currentUser.id}}),this.newComment="")}})},wt=bt,yt=(s("bmDs"),Object(p["a"])(wt,_t,Ct,!1,null,"11bfdfc4",null)),Pt=yt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"similar-block"},t._l(t.getSimilarPosts(t.post.tags,t.post.id),function(e){return s("div",{key:e.id,staticClass:"col"},[s("router-link",{attrs:{to:{name:"home",params:{id:e.id}},tag:"div"}},[e.image?s("div",{staticClass:"img-block"},[s("img",{attrs:{src:e.image,alt:"Image Post"}})]):t._e(),s("div",{staticClass:"also"},[t._v("\n          Also tagged:\n          "),t._l(e.tags,function(e){return s("span",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])})],2),s("h2",[t._v(t._s(e.title))]),s("div",{staticClass:"details"},[s("UserInitials",{attrs:{userId:e.userId}}),s("div",[s("div",{staticClass:"author"},[t._v(t._s(e.userName))]),s("div",{staticClass:"date"},[t._v(t._s(e.date))])])],1)])],1)}))},Ut=[],Ot={name:"SimilarArticles",props:["post"],components:{UserInitials:H},computed:Object(r["a"])({},Object(_["c"])(["getSimilarPosts"]))},jt=Ot,xt=(s("Imig"),Object(p["a"])(jt,Et,Ut,!1,null,"11eb088b",null)),It=xt.exports,kt={name:"Article",components:{Applause:gt,Comments:Pt,SimilarArticles:It},data:function(){return{post:null}},computed:Object(r["a"])({},Object(_["c"])(["getPostById"])),watch:{$route:{immediate:!0,handler:function(t){var e=Number(t.params.id),s=this.getPostById(e);this.post=s}}}},$t=kt,Nt=(s("3g9p"),Object(p["a"])($t,ut,dt,!1,null,"450e74c2",null)),St=Nt.exports,Vt={name:"Home",components:{Article:St},computed:Object(r["a"])({},Object(_["c"])(["posts"]),{isArticle:function(){return!isNaN(this.$route.params.id)},currentTopic:function(){return this.$route.params.id||"home"},filteredPosts:function(){var t=this;return"home"===this.currentTopic?this.posts:this.posts.filter(function(e){return e.topic===t.currentTopic})}})},Lt=Vt,Mt=(s("swEb"),Object(p["a"])(Lt,lt,ct,!1,null,"5b8ac015",null)),Dt=Mt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v("Settings")]),t._m(0),s("div",{staticClass:"title"},[t._v("Your email")]),s("div",{staticClass:"change-block"},[s("div",{staticClass:"user-email"},[s("input",{directives:[{name:"focus",rawName:"v-focus",value:t.isEdit,expression:"isEdit"},{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"email",attrs:{type:"email",disabled:!t.isEdit},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("div",{staticClass:"edit-block"},[t.isEdit?t._e():s("button",{staticClass:"btn-edit",attrs:{type:"button"},on:{click:t.editEmail}},[t._v("Edit email")]),t.isEdit?[s("button",{staticClass:"btn-save",attrs:{type:"button"},on:{click:t.saveEmail}},[t._v("Save")]),s("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:t.cancelEdit}},[t._v("Cancel")])]:t._e()],2)])])},Tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"heading-title"},[s("h2",[t._v("Email settings")])])}],Bt={name:"Settings",data:function(){return{isEdit:!1,email:""}},computed:Object(r["a"])({},Object(_["c"])(["currentUser"])),watch:{currentUser:{immediate:!0,handler:function(t){t&&(this.email=t.email)}}},methods:Object(r["a"])({},Object(_["b"])(["updateEmail"]),{editEmail:function(){this.isEdit=!0},cancelEdit:function(){this.isEdit=!1,this.email=this.currentUser.email},saveEmail:function(){var t=this;return this.updateEmail(this.email).then(function(){return t.isEdit=!1})}})},At=Bt,Rt=(s("Rt/1"),Object(p["a"])(At,qt,Tt,!1,null,"1c1988f6",null)),Ft=Rt.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("New Post")]),s("form",{ref:"form",on:{submit:function(t){t.preventDefault()}}},[s("label",{staticClass:"steps-post"},[t._m(0),s("transition",{attrs:{name:"fadeRight"}},[t.isValidTitle?t._e():s("div",{staticClass:"validation"},[t._v("Write your publication name!")])]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.post.title,expression:"post.title",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidTitle,expression:"isValidTitle"}],attrs:{type:"text",name:"title",placeholder:"Your publication’s name",maxlength:"100",required:""},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})],1),s("label",{staticClass:"steps-post"},[t._m(1),s("transition",{attrs:{name:"fadeRight"}},[t.isValidDescription?t._e():s("div",{staticClass:"validation"},[t._v("Write a short Description!")])]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.post.description,expression:"post.description",modifiers:{trim:!0}},{name:"validity",rawName:"v-validity",value:t.isValidDescription,expression:"isValidDescription"}],attrs:{type:"text",name:"title",placeholder:"Short Description",maxlength:"280",required:""},domProps:{value:t.post.description},on:{input:function(e){e.target.composing||t.$set(t.post,"description",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})],1),s("UploadFile",{on:{uploadedImage:t.setImage}}),s("vue-editor",{model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),s("div",{staticClass:"tags"},[s("label",{staticClass:"step-name"},[t._v("Tags\n        "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.post.tag,expression:"post.tag",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Add tags..."},domProps:{value:t.post.tag},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.addTags(e)):null},input:function(e){e.target.composing||t.$set(t.post,"tag",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("div",{staticClass:"block-tag"},t._l(t.post.tags,function(e){return s("div",{key:e,staticClass:"tag-output"},[t._v("\n          "+t._s(e)+"\n          "),s("button",{staticClass:"delete-tag",attrs:{type:"button"},on:{click:function(s){t.deleteTag(e)}}},[t._v("x")])])}))]),s("div",{staticClass:"theme"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.post.topic,expression:"post.topic"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.post,"topic",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Select a topic...")]),s("option",{attrs:{value:"tech"}},[t._v("Tech")]),s("option",{attrs:{value:"politics"}},[t._v("Politics")]),s("option",{attrs:{value:"culture"}},[t._v("Culture")]),s("option",{attrs:{value:"other"}},[t._v("Other")])]),s("span",{staticClass:"step-name"},[t._v(t._s(t.post.topic))])]),s("div",{staticClass:"save"},[s("button",{staticClass:"draft",on:{click:t.saveDraft}},[t._v("Save draft")]),s("button",{staticClass:"publication",on:{click:t.publish}},[t._v("Publish")])])],1)])},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-name"},[t._v("Title"),s("span",{staticClass:"form-asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-name"},[t._v("Description"),s("span",{staticClass:"form-asterisk"},[t._v("*")])])}],Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"file-upload"},[s("div",{staticClass:"file-block"},[s("div",{staticClass:"step-name"},[t._v("Image")]),t.image?s("div",{staticClass:"uploaded-img"},[s("img",{staticClass:"img",attrs:{src:t.image}}),s("button",{staticClass:"delete-img",attrs:{type:"click"},on:{click:t.deleteImage}},[t._v("Delete Image")])]):s("div",{staticClass:"icon-block"},[s("i",{staticClass:"icon-camera"}),s("input",{staticClass:"upload-img",attrs:{type:"file",round:""},on:{change:t.onFileChange}})])])])},Jt=[],Kt={name:"UploadFile",data:function(){return{image:""}},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){var e=this,s=new FileReader;s.onload=function(t){e.image=t.target.result,e.$emit("uploadedImage",e.image)},s.readAsDataURL(t)},deleteImage:function(){this.image=""}}},zt=Kt,Wt=(s("r/LK"),Object(p["a"])(zt,Ht,Jt,!1,null,"2ce26d71",null)),Zt=Wt.exports,Qt=s("s+lJ"),Xt={name:"NewPosts",components:{VueEditor:Qt["VueEditor"],UploadFile:Zt},data:function(){return{post:{title:"",description:"",content:"",tag:"",tags:[],topic:"",image:"",draft:!1,date:(new Date).toDateString()},isValidTitle:!0,isValidDescription:!0}},computed:Object(r["a"])({},Object(_["c"])(["getPostById"])),watch:{$route:{immediate:!0,handler:function(t){var e=Number(t.params.id),s=this.getPostById(e);void 0!==s&&(this.post=s)}}},methods:Object(r["a"])({},Object(_["b"])(["createPost"]),{publish:function(){var t=this;this.$refs.form.checkValidity()&&this.createPost(Object(r["a"])({},this.post)).then(function(){return t.$router.push({name:"drafts"})})},saveDraft:function(){this.post.draft=!0,this.publish()},addTags:function(){var t=this.post.tag[0].toUpperCase()+this.post.tag.slice(1).toLowerCase();this.post.tag="",t&&!this.post.tags.includes(t)&&this.post.tags.push(t)},deleteTag:function(t){var e=this.post.tags.indexOf(t);this.post.tags.splice(e,1)},setImage:function(t){this.post.image=t}})},te=Xt,ee=(s("uzfm"),Object(p["a"])(te,Yt,Gt,!1,null,"6c2f0d9b",null)),se=ee.exports,ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("h1",[t._v("Your Stories")]),s("router-link",{attrs:{tag:"button",to:{name:"newPost"}}},[t._v("Write a story")])],1),s("div",{staticClass:"tabs"},[s("ul",[s("li",[s("router-link",{attrs:{to:{name:"drafts"}}},[t._v("\n          Drafts\n          "),s("span",{staticClass:"couter"},[t._v(t._s(t.draftsByUserId.length))])])],1),s("li",[s("router-link",{attrs:{to:{name:"public"}}},[t._v("\n          Published\n          "),s("span",{staticClass:"couter"},[t._v(t._s(t.postsByUserId.length))])])],1)])]),s("div",{staticClass:"content-list"},[s("router-view")],1)])},ae=[],ne={name:"ListPosts",computed:Object(r["a"])({},Object(_["c"])(["draftsByUserId","postsByUserId"]))},re=ne,oe=(s("qKJ6"),Object(p["a"])(re,ie,ae,!1,null,"6c8f4e2b",null)),le=oe.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ListArticles",{attrs:{articles:t.draftsByUserId}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.draftsByUserId.length,expression:"!draftsByUserId.length"}],staticClass:"empty-list"},[t._v("You haven't any drafts yet.")])],1)},ue=[],de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.articles,function(e){return s("article",{key:e.id},[s("router-link",{staticClass:"post",attrs:{tag:"div",to:{name:"editPost",params:{id:e.id}}}},[s("h2",{staticClass:"title-post",attrs:{title:t.titleEdit}},[t._v(t._s(e.title))]),s("div",{staticClass:"date"},[t._v(t._s(e.date))])]),s("div",{staticClass:"btn-delete-post",attrs:{title:t.titleDelete},on:{click:function(s){t.selectedPost=e}}},[s("i",{staticClass:"icon-trash"})])],1)}),t.selectedPost?s("ConfirmationDialog",{on:{cancel:function(e){t.selectedPost=null},confirm:function(e){t.deleteDraft(t.selectedPost)}}}):t._e()],2)},me=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Modal",{on:{close:function(e){t.$emit("cancel")}}},[s("div",[s("h3",[t._v("You definitely want to delete the story?")]),s("button",{staticClass:"confirm",on:{click:function(e){e.stopPropagation(),t.$emit("confirm")}}},[t._v("Yes")]),s("button",{staticClass:"cencel",on:{click:function(e){e.stopPropagation(),t.$emit("cancel")}}},[t._v("No")])])])],1)},fe=[],ve={name:"ConfirmationDialog",components:{Modal:v}},he=ve,ge=(s("6hfL"),Object(p["a"])(he,pe,fe,!1,null,"c76d292a",null)),_e=ge.exports,Ce={name:"ListArticles",props:["articles"],components:{ConfirmationDialog:_e},data:function(){return{selectedPost:null,titleDelete:"Delete story",titleEdit:"Edit story"}},methods:Object(r["a"])({},Object(_["b"])(["deletePost"]),{deleteDraft:function(t){this.deletePost(t),this.selectedPost=null}})},be=Ce,we=(s("le2d"),Object(p["a"])(be,de,me,!1,null,"e50a93e4",null)),ye=we.exports,Pe={name:"ListDrafts",components:{ListArticles:ye},computed:Object(r["a"])({},Object(_["c"])(["draftsByUserId"]))},Ee=Pe,Ue=(s("hbAh"),Object(p["a"])(Ee,ce,ue,!1,null,"d1cc99dc",null)),Oe=Ue.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ListArticles",{attrs:{articles:t.postsByUserId}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.postsByUserId.length,expression:"!postsByUserId.length"}],staticClass:"empty-list"},[t._v("You haven’t published any public stories yet.")])],1)},xe=[],Ie={name:"ListPublic",components:{ListArticles:ye},computed:Object(r["a"])({},Object(_["c"])(["postsByUserId"]))},ke=Ie,$e=(s("FisY"),Object(p["a"])(ke,je,xe,!1,null,"511e39cb",null)),Ne=$e.exports;i["a"].use(ot["a"]);var Se=new ot["a"]({routes:[{path:"/posts",name:"posts",component:le,redirect:{name:"drafts"},children:[{path:"drafts",name:"drafts",component:Oe},{path:"public",name:"public",component:Ne}]},{path:"/posts/new",name:"newPost",component:se},{path:"/posts/:id",name:"editPost",component:se},{path:"/settings",name:"settings",component:Ft},{path:"/:id?",name:"home",component:Dt}]});i["a"].directive("validity",{bind:function(t,e,s){var i=function(i){"invalid"===i.type&&i.preventDefault();var a=t.validity.valid;s.context.$data[e.expression]=a};t.__listener=i,t.addEventListener("invalid",i),t.addEventListener("input",i)},update:function(t,e){!e.value&&t.validity.valid?t.setCustomValidity("Invalid"):e.value&&t.setCustomValidity("")},unbind:function(t){t.removeEventListener("invalid",t.__listener),t.removeEventListener("input",t.__listener)}}),i["a"].directive("focus",function(t,e){e.value&&t.focus()});s("oaNO");i["a"].config.productionTip=!1,new i["a"]({store:rt,router:Se,render:function(t){return t(tt)}}).$mount("#app")},"W/2i":function(t,e,s){},"Z/zX":function(t,e,s){"use strict";var i=s("a8N2"),a=s.n(i);a.a},a8N2:function(t,e,s){},armW:function(t,e,s){},bFDS:function(t,e,s){},bmDs:function(t,e,s){"use strict";var i=s("qn3R"),a=s.n(i);a.a},dDHs:function(t,e,s){"use strict";var i=s("UHm6"),a=s.n(i);a.a},gGfW:function(t,e,s){},gfVg:function(t,e,s){"use strict";var i=s("bFDS"),a=s.n(i);a.a},hbAh:function(t,e,s){"use strict";var i=s("6aVY"),a=s.n(i);a.a},hsrp:function(t,e,s){},iUDv:function(t,e,s){},le2d:function(t,e,s){"use strict";var i=s("47fV"),a=s.n(i);a.a},nPfe:function(t,e,s){},oaNO:function(t,e,s){},pN94:function(t,e,s){"use strict";var i=s("iUDv"),a=s.n(i);a.a},"qE/g":function(t,e,s){"use strict";var i=s("LdMB"),a=s.n(i);a.a},qKJ6:function(t,e,s){"use strict";var i=s("hsrp"),a=s.n(i);a.a},qn3R:function(t,e,s){},"r/LK":function(t,e,s){"use strict";var i=s("0y33"),a=s.n(i);a.a},swEb:function(t,e,s){"use strict";var i=s("W/2i"),a=s.n(i);a.a},uzfm:function(t,e,s){"use strict";var i=s("QmHP"),a=s.n(i);a.a},xIZo:function(t,e,s){},yH99:function(t,e,s){}});
//# sourceMappingURL=app.33de0880.js.map